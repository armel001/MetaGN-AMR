Assuming unrestricted shared filesystem usage.
None
host: stallion.srvint.efrei.fr
Building DAG of jobs...
Your conda installation is not configured to use strict channel priorities. This is however important for having robust and correct environments (for details, see https://conda-forge.org/docs/user/tipsandtricks.html). Please consider to configure strict priorities by executing 'conda config --set channel_priority strict'.
Using shell: /usr/bin/bash
Provided cores: 16
Rules claiming more threads will be scaled down.
Job stats:
job                  count
-----------------  -------
abricate                 4
all                      1
flye_assembly            4
host_depletion           4
plot_ARGs                4
plot_ARGs_all            1
plot_ARGs_by_gene        4
porechop                 4
total                   26

Select jobs to execute...
Execute 4 jobs...
[Sun Jul 27 17:30:49 2025]
localrule porechop:
    input: resources/reads/CMC_BKN.fastq.gz
    output: results/CMC_BKN/trimmed.fastq.gz
    jobid: 16
    reason: Missing output files: results/CMC_BKN/trimmed.fastq.gz
    wildcards: sample=CMC_BKN
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_
[Sun Jul 27 17:30:49 2025]
localrule porechop:
    input: resources/reads/CMC_MTM.fastq.gz
    output: results/CMC_MTM/trimmed.fastq.gz
    jobid: 12
    reason: Missing output files: results/CMC_MTM/trimmed.fastq.gz
    wildcards: sample=CMC_MTM
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_
[Sun Jul 27 17:30:49 2025]
localrule porechop:
    input: resources/reads/CMC_CLY.fastq.gz
    output: results/CMC_CLY/trimmed.fastq.gz
    jobid: 4
    reason: Missing output files: results/CMC_CLY/trimmed.fastq.gz
    wildcards: sample=CMC_CLY
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_
[Sun Jul 27 17:30:49 2025]
localrule porechop:
    input: resources/reads/CMC_MNR.fastq.gz
    output: results/CMC_MNR/trimmed.fastq.gz
    jobid: 8
    reason: Missing output files: results/CMC_MNR/trimmed.fastq.gz
    wildcards: sample=CMC_MNR
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_
[Sun Jul 27 18:19:21 2025]
Finished jobid: 16 (Rule: porechop)
1 of 26 steps (4%) done
Select jobs to execute...
Execute 1 jobs...
[Sun Jul 27 18:19:21 2025]
localrule host_depletion:
    input: results/CMC_BKN/trimmed.fastq.gz, resources/references/GRCh38_no_alt.mmi
    output: results/CMC_BKN/clean/CMC_BKN_noh.fq.gz
    jobid: 15
    reason: Missing output files: results/CMC_BKN/clean/CMC_BKN_noh.fq.gz; Input files updated by another job: results/CMC_BKN/trimmed.fastq.gz
    wildcards: sample=CMC_BKN
    threads: 8
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/9a23c77602d9d35c4fdf433a71fcdfe1_
[Sun Jul 27 18:35:24 2025]
Finished jobid: 8 (Rule: porechop)
2 of 26 steps (8%) done
Select jobs to execute...
[Sun Jul 27 18:40:49 2025]
Finished jobid: 15 (Rule: host_depletion)
3 of 26 steps (12%) done
Execute 2 jobs...
[Sun Jul 27 18:40:49 2025]
localrule host_depletion:
    input: results/CMC_MNR/trimmed.fastq.gz, resources/references/GRCh38_no_alt.mmi
    output: results/CMC_MNR/clean/CMC_MNR_noh.fq.gz
    jobid: 7
    reason: Missing output files: results/CMC_MNR/clean/CMC_MNR_noh.fq.gz; Input files updated by another job: results/CMC_MNR/trimmed.fastq.gz
    wildcards: sample=CMC_MNR
    threads: 8
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/9a23c77602d9d35c4fdf433a71fcdfe1_
[Sun Jul 27 18:40:49 2025]
localrule flye_assembly:
    input: results/CMC_BKN/clean/CMC_BKN_noh.fq.gz
    output: results/CMC_BKN/assembly.fasta
    jobid: 14
    reason: Missing output files: results/CMC_BKN/assembly.fasta; Input files updated by another job: results/CMC_BKN/clean/CMC_BKN_noh.fq.gz
    wildcards: sample=CMC_BKN
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/2b8d26851d42507ad652f148d31ace33_
[Sun Jul 27 19:04:43 2025]
Finished jobid: 7 (Rule: host_depletion)
4 of 26 steps (15%) done
Select jobs to execute...
Execute 1 jobs...
[Sun Jul 27 19:04:43 2025]
localrule flye_assembly:
    input: results/CMC_MNR/clean/CMC_MNR_noh.fq.gz
    output: results/CMC_MNR/assembly.fasta
    jobid: 6
    reason: Missing output files: results/CMC_MNR/assembly.fasta; Input files updated by another job: results/CMC_MNR/clean/CMC_MNR_noh.fq.gz
    wildcards: sample=CMC_MNR
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/2b8d26851d42507ad652f148d31ace33_
[Sun Jul 27 19:08:32 2025]
Finished jobid: 4 (Rule: porechop)
5 of 26 steps (19%) done
Select jobs to execute...
Execute 1 jobs...
[Sun Jul 27 19:08:32 2025]
localrule host_depletion:
    input: results/CMC_CLY/trimmed.fastq.gz, resources/references/GRCh38_no_alt.mmi
    output: results/CMC_CLY/clean/CMC_CLY_noh.fq.gz
    jobid: 3
    reason: Missing output files: results/CMC_CLY/clean/CMC_CLY_noh.fq.gz; Input files updated by another job: results/CMC_CLY/trimmed.fastq.gz
    wildcards: sample=CMC_CLY
    threads: 8
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/9a23c77602d9d35c4fdf433a71fcdfe1_
[Sun Jul 27 19:20:57 2025]
Finished jobid: 12 (Rule: porechop)
6 of 26 steps (23%) done
Select jobs to execute...
[Sun Jul 27 19:36:15 2025]
Finished jobid: 3 (Rule: host_depletion)
7 of 26 steps (27%) done
Execute 2 jobs...
[Sun Jul 27 19:36:15 2025]
localrule host_depletion:
    input: results/CMC_MTM/trimmed.fastq.gz, resources/references/GRCh38_no_alt.mmi
    output: results/CMC_MTM/clean/CMC_MTM_noh.fq.gz
    jobid: 11
    reason: Missing output files: results/CMC_MTM/clean/CMC_MTM_noh.fq.gz; Input files updated by another job: results/CMC_MTM/trimmed.fastq.gz
    wildcards: sample=CMC_MTM
    threads: 8
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/9a23c77602d9d35c4fdf433a71fcdfe1_
[Sun Jul 27 19:36:15 2025]
localrule flye_assembly:
    input: results/CMC_CLY/clean/CMC_CLY_noh.fq.gz
    output: results/CMC_CLY/assembly.fasta
    jobid: 2
    reason: Missing output files: results/CMC_CLY/assembly.fasta; Input files updated by another job: results/CMC_CLY/clean/CMC_CLY_noh.fq.gz
    wildcards: sample=CMC_CLY
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/2b8d26851d42507ad652f148d31ace33_
[Sun Jul 27 20:12:42 2025]
Finished jobid: 11 (Rule: host_depletion)
8 of 26 steps (31%) done
Select jobs to execute...
Execute 1 jobs...
[Sun Jul 27 20:12:42 2025]
localrule flye_assembly:
    input: results/CMC_MTM/clean/CMC_MTM_noh.fq.gz
    output: results/CMC_MTM/assembly.fasta
    jobid: 10
    reason: Missing output files: results/CMC_MTM/assembly.fasta; Input files updated by another job: results/CMC_MTM/clean/CMC_MTM_noh.fq.gz
    wildcards: sample=CMC_MTM
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/2b8d26851d42507ad652f148d31ace33_
[Sun Jul 27 21:24:07 2025]
Finished jobid: 14 (Rule: flye_assembly)
9 of 26 steps (35%) done
Select jobs to execute...
Execute 1 jobs...
[Sun Jul 27 21:24:07 2025]
localrule abricate:
    input: results/CMC_BKN/assembly.fasta
    output: results/CMC_BKN/abricate/CMC_BKN_ARG_summary.tsv
    jobid: 13
    reason: Missing output files: results/CMC_BKN/abricate/CMC_BKN_ARG_summary.tsv; Input files updated by another job: results/CMC_BKN/assembly.fasta
    wildcards: sample=CMC_BKN
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/01528871480f2915ea4485b3da11c9ff_
[Sun Jul 27 21:31:13 2025]
Finished jobid: 13 (Rule: abricate)
10 of 26 steps (38%) done
Select jobs to execute...
Execute 2 jobs...
[Sun Jul 27 21:31:13 2025]
localrule plot_ARGs:
    input: results/CMC_BKN/abricate/CMC_BKN_ARG_summary.tsv
    output: results/CMC_BKN/plots/CMC_BKN_resistance_classes.png
    jobid: 20
    reason: Missing output files: results/CMC_BKN/plots/CMC_BKN_resistance_classes.png; Input files updated by another job: results/CMC_BKN/abricate/CMC_BKN_ARG_summary.tsv
    wildcards: sample=CMC_BKN
    resources: tmpdir=/tmp
[Sun Jul 27 21:31:13 2025]
localrule plot_ARGs_by_gene:
    input: results/CMC_BKN/abricate/CMC_BKN_ARG_summary.tsv
    output: results/CMC_BKN/plots/CMC_BKN_ARGs_by_gene.png
    jobid: 24
    reason: Missing output files: results/CMC_BKN/plots/CMC_BKN_ARGs_by_gene.png; Input files updated by another job: results/CMC_BKN/abricate/CMC_BKN_ARG_summary.tsv
    wildcards: sample=CMC_BKN
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/f550386a40310a0327be21f8ca3f63dd_
Activating conda environment: .snakemake/conda/f550386a40310a0327be21f8ca3f63dd_
Activating conda environment: .snakemake/conda/f550386a40310a0327be21f8ca3f63dd_
[Sun Jul 27 21:31:25 2025]
Finished jobid: 20 (Rule: plot_ARGs)
11 of 26 steps (42%) done
[Sun Jul 27 21:31:26 2025]
Finished jobid: 24 (Rule: plot_ARGs_by_gene)
12 of 26 steps (46%) done
[Sun Jul 27 22:15:54 2025]
Finished jobid: 6 (Rule: flye_assembly)
13 of 26 steps (50%) done
Select jobs to execute...
Execute 1 jobs...
[Sun Jul 27 22:15:54 2025]
localrule abricate:
    input: results/CMC_MNR/assembly.fasta
    output: results/CMC_MNR/abricate/CMC_MNR_ARG_summary.tsv
    jobid: 5
    reason: Missing output files: results/CMC_MNR/abricate/CMC_MNR_ARG_summary.tsv; Input files updated by another job: results/CMC_MNR/assembly.fasta
    wildcards: sample=CMC_MNR
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/01528871480f2915ea4485b3da11c9ff_
[Sun Jul 27 22:22:06 2025]
Finished jobid: 5 (Rule: abricate)
14 of 26 steps (54%) done
Select jobs to execute...
Execute 2 jobs...
[Sun Jul 27 22:22:06 2025]
localrule plot_ARGs:
    input: results/CMC_MNR/abricate/CMC_MNR_ARG_summary.tsv
    output: results/CMC_MNR/plots/CMC_MNR_resistance_classes.png
    jobid: 18
    reason: Missing output files: results/CMC_MNR/plots/CMC_MNR_resistance_classes.png; Input files updated by another job: results/CMC_MNR/abricate/CMC_MNR_ARG_summary.tsv
    wildcards: sample=CMC_MNR
    resources: tmpdir=/tmp
[Sun Jul 27 22:22:06 2025]
localrule plot_ARGs_by_gene:
    input: results/CMC_MNR/abricate/CMC_MNR_ARG_summary.tsv
    output: results/CMC_MNR/plots/CMC_MNR_ARGs_by_gene.png
    jobid: 22
    reason: Missing output files: results/CMC_MNR/plots/CMC_MNR_ARGs_by_gene.png; Input files updated by another job: results/CMC_MNR/abricate/CMC_MNR_ARG_summary.tsv
    wildcards: sample=CMC_MNR
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/f550386a40310a0327be21f8ca3f63dd_
Activating conda environment: .snakemake/conda/f550386a40310a0327be21f8ca3f63dd_
Activating conda environment: .snakemake/conda/f550386a40310a0327be21f8ca3f63dd_
[Sun Jul 27 22:22:12 2025]
Finished jobid: 18 (Rule: plot_ARGs)
15 of 26 steps (58%) done
[Sun Jul 27 22:22:13 2025]
Finished jobid: 22 (Rule: plot_ARGs_by_gene)
16 of 26 steps (62%) done
[Sun Jul 27 23:37:29 2025]
Finished jobid: 10 (Rule: flye_assembly)
17 of 26 steps (65%) done
Select jobs to execute...
Execute 1 jobs...
[Sun Jul 27 23:37:29 2025]
localrule abricate:
    input: results/CMC_MTM/assembly.fasta
    output: results/CMC_MTM/abricate/CMC_MTM_ARG_summary.tsv
    jobid: 9
    reason: Missing output files: results/CMC_MTM/abricate/CMC_MTM_ARG_summary.tsv; Input files updated by another job: results/CMC_MTM/assembly.fasta
    wildcards: sample=CMC_MTM
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/01528871480f2915ea4485b3da11c9ff_
[Sun Jul 27 23:42:50 2025]
Finished jobid: 9 (Rule: abricate)
18 of 26 steps (69%) done
Select jobs to execute...
Execute 2 jobs...
[Sun Jul 27 23:42:50 2025]
localrule plot_ARGs:
    input: results/CMC_MTM/abricate/CMC_MTM_ARG_summary.tsv
    output: results/CMC_MTM/plots/CMC_MTM_resistance_classes.png
    jobid: 19
    reason: Missing output files: results/CMC_MTM/plots/CMC_MTM_resistance_classes.png; Input files updated by another job: results/CMC_MTM/abricate/CMC_MTM_ARG_summary.tsv
    wildcards: sample=CMC_MTM
    resources: tmpdir=/tmp
[Sun Jul 27 23:42:50 2025]
localrule plot_ARGs_by_gene:
    input: results/CMC_MTM/abricate/CMC_MTM_ARG_summary.tsv
    output: results/CMC_MTM/plots/CMC_MTM_ARGs_by_gene.png
    jobid: 23
    reason: Missing output files: results/CMC_MTM/plots/CMC_MTM_ARGs_by_gene.png; Input files updated by another job: results/CMC_MTM/abricate/CMC_MTM_ARG_summary.tsv
    wildcards: sample=CMC_MTM
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/f550386a40310a0327be21f8ca3f63dd_
Activating conda environment: .snakemake/conda/f550386a40310a0327be21f8ca3f63dd_
Activating conda environment: .snakemake/conda/f550386a40310a0327be21f8ca3f63dd_
[Sun Jul 27 23:42:56 2025]
Finished jobid: 19 (Rule: plot_ARGs)
19 of 26 steps (73%) done
[Sun Jul 27 23:42:58 2025]
Finished jobid: 23 (Rule: plot_ARGs_by_gene)
20 of 26 steps (77%) done
[Mon Jul 28 00:02:58 2025]
Finished jobid: 2 (Rule: flye_assembly)
21 of 26 steps (81%) done
Select jobs to execute...
Execute 1 jobs...
[Mon Jul 28 00:02:58 2025]
localrule abricate:
    input: results/CMC_CLY/assembly.fasta
    output: results/CMC_CLY/abricate/CMC_CLY_ARG_summary.tsv
    jobid: 1
    reason: Missing output files: results/CMC_CLY/abricate/CMC_CLY_ARG_summary.tsv; Input files updated by another job: results/CMC_CLY/assembly.fasta
    wildcards: sample=CMC_CLY
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/01528871480f2915ea4485b3da11c9ff_
[Mon Jul 28 00:06:57 2025]
Finished jobid: 1 (Rule: abricate)
22 of 26 steps (85%) done
Select jobs to execute...
Execute 3 jobs...
[Mon Jul 28 00:06:57 2025]
localrule plot_ARGs:
    input: results/CMC_CLY/abricate/CMC_CLY_ARG_summary.tsv
    output: results/CMC_CLY/plots/CMC_CLY_resistance_classes.png
    jobid: 17
    reason: Missing output files: results/CMC_CLY/plots/CMC_CLY_resistance_classes.png; Input files updated by another job: results/CMC_CLY/abricate/CMC_CLY_ARG_summary.tsv
    wildcards: sample=CMC_CLY
    resources: tmpdir=/tmp
[Mon Jul 28 00:06:57 2025]
localrule plot_ARGs_by_gene:
    input: results/CMC_CLY/abricate/CMC_CLY_ARG_summary.tsv
    output: results/CMC_CLY/plots/CMC_CLY_ARGs_by_gene.png
    jobid: 21
    reason: Missing output files: results/CMC_CLY/plots/CMC_CLY_ARGs_by_gene.png; Input files updated by another job: results/CMC_CLY/abricate/CMC_CLY_ARG_summary.tsv
    wildcards: sample=CMC_CLY
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/f550386a40310a0327be21f8ca3f63dd_
[Mon Jul 28 00:06:57 2025]
localrule plot_ARGs_all:
    input: results/CMC_CLY/abricate/CMC_CLY_ARG_summary.tsv, results/CMC_MNR/abricate/CMC_MNR_ARG_summary.tsv, results/CMC_MTM/abricate/CMC_MTM_ARG_summary.tsv, results/CMC_BKN/abricate/CMC_BKN_ARG_summary.tsv
    output: results/summary/all_ARGs.png, results/summary/all_ARGs_counts.tsv
    jobid: 25
    reason: Missing output files: results/summary/all_ARGs_counts.tsv, results/summary/all_ARGs.png; Input files updated by another job: results/CMC_MTM/abricate/CMC_MTM_ARG_summary.tsv, results/CMC_BKN/abricate/CMC_BKN_ARG_summary.tsv, results/CMC_MNR/abricate/CMC_MNR_ARG_summary.tsv, results/CMC_CLY/abricate/CMC_CLY_ARG_summary.tsv; Set of input files has changed since last execution
    resources: tmpdir=/tmp
Activating conda environment: .snakemake/conda/f550386a40310a0327be21f8ca3f63dd_
Activating conda environment: .snakemake/conda/f550386a40310a0327be21f8ca3f63dd_
Activating conda environment: .snakemake/conda/f550386a40310a0327be21f8ca3f63dd_
[Mon Jul 28 00:07:00 2025]
Finished jobid: 17 (Rule: plot_ARGs)
23 of 26 steps (88%) done
[Mon Jul 28 00:07:01 2025]
Finished jobid: 21 (Rule: plot_ARGs_by_gene)
24 of 26 steps (92%) done
[Mon Jul 28 00:07:01 2025]
Finished jobid: 25 (Rule: plot_ARGs_all)
25 of 26 steps (96%) done
Select jobs to execute...
Execute 1 jobs...
[Mon Jul 28 00:07:01 2025]
localrule all:
    input: results/CMC_CLY/abricate/CMC_CLY_ARG_summary.tsv, results/CMC_MNR/abricate/CMC_MNR_ARG_summary.tsv, results/CMC_MTM/abricate/CMC_MTM_ARG_summary.tsv, results/CMC_BKN/abricate/CMC_BKN_ARG_summary.tsv, results/CMC_CLY/plots/CMC_CLY_resistance_classes.png, results/CMC_MNR/plots/CMC_MNR_resistance_classes.png, results/CMC_MTM/plots/CMC_MTM_resistance_classes.png, results/CMC_BKN/plots/CMC_BKN_resistance_classes.png, results/CMC_CLY/plots/CMC_CLY_ARGs_by_gene.png, results/CMC_MNR/plots/CMC_MNR_ARGs_by_gene.png, results/CMC_MTM/plots/CMC_MTM_ARGs_by_gene.png, results/CMC_BKN/plots/CMC_BKN_ARGs_by_gene.png, results/summary/all_ARGs.png, results/summary/all_ARGs_counts.tsv
    jobid: 0
    reason: Input files updated by another job: results/CMC_CLY/plots/CMC_CLY_ARGs_by_gene.png, results/CMC_MNR/plots/CMC_MNR_resistance_classes.png, results/CMC_MTM/plots/CMC_MTM_resistance_classes.png, results/CMC_CLY/abricate/CMC_CLY_ARG_summary.tsv, results/CMC_MTM/plots/CMC_MTM_ARGs_by_gene.png, results/CMC_BKN/plots/CMC_BKN_ARGs_by_gene.png, results/CMC_CLY/plots/CMC_CLY_resistance_classes.png, results/summary/all_ARGs_counts.tsv, results/CMC_MNR/plots/CMC_MNR_ARGs_by_gene.png, results/CMC_MTM/abricate/CMC_MTM_ARG_summary.tsv, results/CMC_BKN/plots/CMC_BKN_resistance_classes.png, results/CMC_BKN/abricate/CMC_BKN_ARG_summary.tsv, results/summary/all_ARGs.png, results/CMC_MNR/abricate/CMC_MNR_ARG_summary.tsv
    resources: tmpdir=/tmp
[Mon Jul 28 00:07:01 2025]
Finished jobid: 0 (Rule: all)
26 of 26 steps (100%) done
Complete log(s): /data/armel/git/MetagenAMR-main/.snakemake/log/2025-07-27T173047.891872.snakemake.log
