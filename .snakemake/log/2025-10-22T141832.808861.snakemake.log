Assuming unrestricted shared filesystem usage.
None
host: stallion.srvint.efrei.fr
Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 22
Rules claiming more threads will be scaled down.
Job stats:
job                  count
-----------------  -------
abricate                15
all                      1
build_dag                1
flye_assembly           15
host_depletion          15
merge_rgi_results        1
multiqc_nanoplot         1
plot_ARGs               15
plot_ARGs_all            1
plot_ARGs_all_R          1
plot_ARGs_by_gene       15
rgi                     16
total                   97

Select jobs to execute...
Execute 4 jobs...
[Wed Oct 22 14:18:35 2025]
localrule multiqc_nanoplot:
    input: results/HI17B/qc/HI17B_Nanoplot, results/HI16B/qc/HI16B_Nanoplot, results/HI15B/qc/HI15B_Nanoplot, results/CMC_BKN/qc/CMC_BKN_Nanoplot, results/HI14B/qc/HI14B_Nanoplot, results/HI09B/qc/HI09B_Nanoplot, results/HI12B/qc/HI12B_Nanoplot, results/CMC_CLY/qc/CMC_CLY_Nanoplot, results/CMC_MNR/qc/CMC_MNR_Nanoplot, results/CMC_MTM/qc/CMC_MTM_Nanoplot, results/HI03A/qc/HI03A_Nanoplot, results/HI01A/qc/HI01A_Nanoplot, results/HI04A/qc/HI04A_Nanoplot, results/HI05A/qc/HI05A_Nanoplot, results/HI07A/qc/HI07A_Nanoplot, results/HI02A/qc/HI02A_Nanoplot
    output: results/summary/multiqc_nanoplot.html, results/summary/multiqc_data_nanoplot
    jobid: 133
    reason: Missing output files: results/summary/multiqc_nanoplot.html
    threads: 2
    resources: tmpdir=/data/armel/git/MetagenAMR-main/results/HI09B/qc/HI09B_Nanoplot/tmp
Activating conda environment: .snakemake/conda/a0c8ecd6a262e1d3e248f6911ae238a5_
[Wed Oct 22 14:18:35 2025]
localrule host_depletion:
    input: results/CMC_MNR/trimmed.fastq.gz, resources/references/GRCh38_no_alt.mmi
    output: results/CMC_MNR/clean/CMC_MNR_noh.fq.gz
    jobid: 23
    reason: Updated input files: results/CMC_MNR/trimmed.fastq.gz
    wildcards: sample=CMC_MNR
    threads: 8
    resources: tmpdir=/data/armel/git/MetagenAMR-main/results/HI09B/qc/HI09B_Nanoplot/tmp
Activating conda environment: .snakemake/conda/9a23c77602d9d35c4fdf433a71fcdfe1_
[Wed Oct 22 14:18:35 2025]
localrule host_depletion:
    input: results/HI12B/trimmed.fastq.gz, resources/references/GRCh38_no_alt.mmi
    output: results/HI12B/clean/HI12B_noh.fq.gz
    jobid: 63
    reason: Updated input files: results/HI12B/trimmed.fastq.gz
    wildcards: sample=HI12B
    threads: 8
    resources: tmpdir=/data/armel/git/MetagenAMR-main/results/HI09B/qc/HI09B_Nanoplot/tmp
Activating conda environment: .snakemake/conda/9a23c77602d9d35c4fdf433a71fcdfe1_
[Wed Oct 22 14:18:35 2025]
localrule build_dag:
    output: results/workflow_dag.png
    jobid: 132
    reason: Missing output files: results/workflow_dag.png
    resources: tmpdir=/data/armel/git/MetagenAMR-main/results/HI09B/qc/HI09B_Nanoplot/tmp
Activating conda environment: .snakemake/conda/69a93ab51e8a64b6b2f737e3e7392841_
RuleException:
CalledProcessError in file "/data/armel/git/MetagenAMR-main/workflow/rules/build_dag.smk", line 10:
Command 'source /home/armel/miniforge3/envs/snakemake-env/bin/activate '/data/armel/git/MetagenAMR-main/.snakemake/conda/69a93ab51e8a64b6b2f737e3e7392841_'; set -euo pipefail;  
        echo "Génération du DAG du pipeline..."
        snakemake --dag | dot -Tpng > results/workflow_dag.png
        echo "DAG généré : results/workflow_dag.png"' returned non-zero exit status 127.
[Wed Oct 22 14:18:36 2025]
Error in rule build_dag:
    message: None
    jobid: 132
    output: results/workflow_dag.png
    conda-env: /data/armel/git/MetagenAMR-main/.snakemake/conda/69a93ab51e8a64b6b2f737e3e7392841_
    shell:
        
        echo "Génération du DAG du pipeline..."
        snakemake --dag | dot -Tpng > results/workflow_dag.png
        echo "DAG généré : results/workflow_dag.png"
        
        (command exited with non-zero exit code)
Removing output files of failed job build_dag since they might be corrupted:
results/workflow_dag.png
Select jobs to execute...
RuleException:
CalledProcessError in file "/data/armel/git/MetagenAMR-main/workflow/rules/multiqc_nanoplot.smk", line 14:
Command 'source /home/armel/miniforge3/envs/snakemake-env/bin/activate '/data/armel/git/MetagenAMR-main/.snakemake/conda/a0c8ecd6a262e1d3e248f6911ae238a5_'; set -euo pipefail;  
        mkdir -p results/summary
        echo "Exécution de MultiQC sur les rapports NanoPlot..."
        multiqc results/ -n results/summary/multiqc_nanoplot.html -o results/summary
        echo "Rapport MultiQC généré : results/summary/multiqc_nanoplot.html"' returned non-zero exit status 1.
[Wed Oct 22 14:19:11 2025]
Error in rule multiqc_nanoplot:
    message: None
    jobid: 133
    input: results/HI17B/qc/HI17B_Nanoplot, results/HI16B/qc/HI16B_Nanoplot, results/HI15B/qc/HI15B_Nanoplot, results/CMC_BKN/qc/CMC_BKN_Nanoplot, results/HI14B/qc/HI14B_Nanoplot, results/HI09B/qc/HI09B_Nanoplot, results/HI12B/qc/HI12B_Nanoplot, results/CMC_CLY/qc/CMC_CLY_Nanoplot, results/CMC_MNR/qc/CMC_MNR_Nanoplot, results/CMC_MTM/qc/CMC_MTM_Nanoplot, results/HI03A/qc/HI03A_Nanoplot, results/HI01A/qc/HI01A_Nanoplot, results/HI04A/qc/HI04A_Nanoplot, results/HI05A/qc/HI05A_Nanoplot, results/HI07A/qc/HI07A_Nanoplot, results/HI02A/qc/HI02A_Nanoplot
    output: results/summary/multiqc_nanoplot.html, results/summary/multiqc_data_nanoplot
    conda-env: /data/armel/git/MetagenAMR-main/.snakemake/conda/a0c8ecd6a262e1d3e248f6911ae238a5_
    shell:
        
        mkdir -p results/summary
        echo "Exécution de MultiQC sur les rapports NanoPlot..."
        multiqc results/ -n results/summary/multiqc_nanoplot.html -o results/summary
        echo "Rapport MultiQC généré : results/summary/multiqc_nanoplot.html"
        
        (command exited with non-zero exit code)
Terminating processes on user request, this might take some time.
