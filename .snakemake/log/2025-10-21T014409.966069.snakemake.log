Building DAG of jobs...
Your conda installation is not configured to use strict channel priorities. This is however crucial for having robust and correct environments (for details, see https://conda-forge.org/docs/user/tipsandtricks.html). Please consider to configure strict priorities by executing 'conda config --set channel_priority strict'.
Using shell: /usr/bin/bash
Provided cores: 32
Rules claiming more threads will be scaled down.
Job stats:
job                  count
-----------------  -------
abricate                16
all                      1
build_dag                1
flye_assembly           16
host_depletion          16
merge_rgi_results        1
multiqc_nanoplot         1
nanoplot                16
plot_ARGs               16
plot_ARGs_all            1
plot_ARGs_all_R          1
plot_ARGs_by_gene       16
porechop                16
rgi                     16
total                  134

Select jobs to execute...

[Tue Oct 21 01:44:13 2025]
rule porechop:
    input: resources/reads/CMC_MTM.fastq.gz
    output: results/CMC_MTM/trimmed.fastq.gz
    jobid: 28
    reason: Code has changed since last execution
    wildcards: sample=CMC_MTM
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_

[Tue Oct 21 01:44:13 2025]
rule porechop:
    input: resources/reads/HI09B.fastq.gz
    output: results/HI09B/trimmed.fastq.gz
    jobid: 60
    reason: Code has changed since last execution
    wildcards: sample=HI09B
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_

[Tue Oct 21 01:44:13 2025]
rule nanoplot:
    input: resources/reads/HI04A.fastq.gz
    output: results/HI04A/qc/HI04A_Nanoplot
    log: results/HI04A/qc/HI04A_Nanoplot/nanoplot.log
    jobid: 8
    reason: Code has changed since last execution
    wildcards: sample=HI04A
    threads: 6
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/de891c6cc03ba77d6d59f6373b0f834e_

[Tue Oct 21 01:44:13 2025]
rule nanoplot:
    input: resources/reads/HI07A.fastq.gz
    output: results/HI07A/qc/HI07A_Nanoplot
    log: results/HI07A/qc/HI07A_Nanoplot/nanoplot.log
    jobid: 10
    reason: Code has changed since last execution
    wildcards: sample=HI07A
    threads: 6
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/de891c6cc03ba77d6d59f6373b0f834e_

[Tue Oct 21 01:44:13 2025]
rule nanoplot:
    input: resources/reads/HI15B.fastq.gz
    output: results/HI15B/qc/HI15B_Nanoplot
    log: results/HI15B/qc/HI15B_Nanoplot/nanoplot.log
    jobid: 14
    reason: Code has changed since last execution
    wildcards: sample=HI15B
    threads: 6
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/de891c6cc03ba77d6d59f6373b0f834e_

[Tue Oct 21 01:44:13 2025]
rule nanoplot:
    input: resources/reads/HI17B.fastq.gz
    output: results/HI17B/qc/HI17B_Nanoplot
    log: results/HI17B/qc/HI17B_Nanoplot/nanoplot.log
    jobid: 16
    reason: Code has changed since last execution
    wildcards: sample=HI17B
    threads: 6
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/de891c6cc03ba77d6d59f6373b0f834e_

[Tue Oct 21 01:44:13 2025]
rule nanoplot:
    input: resources/reads/CMC_MNR.fastq.gz
    output: results/CMC_MNR/qc/CMC_MNR_Nanoplot
    log: results/CMC_MNR/qc/CMC_MNR_Nanoplot/nanoplot.log
    jobid: 2
    reason: Code has changed since last execution
    wildcards: sample=CMC_MNR
    threads: 6
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/de891c6cc03ba77d6d59f6373b0f834e_
[Tue Oct 21 01:44:42 2025]
Finished job 8.
1 of 134 steps (1%) done
Select jobs to execute...

[Tue Oct 21 01:44:42 2025]
rule porechop:
    input: resources/reads/CMC_MNR.fastq.gz
    output: results/CMC_MNR/trimmed.fastq.gz
    jobid: 24
    reason: Code has changed since last execution
    wildcards: sample=CMC_MNR
    resources: tmpdir=/tmp


Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_
[Tue Oct 21 01:44:43 2025]
rule porechop:
    input: resources/reads/HI05A.fastq.gz
    output: results/HI05A/trimmed.fastq.gz
    jobid: 52
    reason: Code has changed since last execution
    wildcards: sample=HI05A
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_

[Tue Oct 21 01:44:43 2025]
rule porechop:
    input: resources/reads/HI01A.fastq.gz
    output: results/HI01A/trimmed.fastq.gz
    jobid: 36
    reason: Code has changed since last execution
    wildcards: sample=HI01A
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_

[Tue Oct 21 01:44:43 2025]
rule porechop:
    input: resources/reads/HI14B.fastq.gz
    output: results/HI14B/trimmed.fastq.gz
    jobid: 68
    reason: Missing output files: results/HI14B/trimmed.fastq.gz; Code has changed since last execution
    wildcards: sample=HI14B
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_

[Tue Oct 21 01:44:43 2025]
rule porechop:
    input: resources/reads/HI02A.fastq.gz
    output: results/HI02A/trimmed.fastq.gz
    jobid: 40
    reason: Missing output files: results/HI02A/trimmed.fastq.gz; Code has changed since last execution
    wildcards: sample=HI02A
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_

[Tue Oct 21 01:44:43 2025]
rule porechop:
    input: resources/reads/HI16B.fastq.gz
    output: results/HI16B/trimmed.fastq.gz
    jobid: 76
    reason: Code has changed since last execution
    wildcards: sample=HI16B
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_
[Tue Oct 21 01:47:55 2025]
Finished job 2.
2 of 134 steps (1%) done
Select jobs to execute...

[Tue Oct 21 01:47:55 2025]
rule porechop:
    input: resources/reads/HI07A.fastq.gz
    output: results/HI07A/trimmed.fastq.gz
    jobid: 56
    reason: Code has changed since last execution
    wildcards: sample=HI07A
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_

[Tue Oct 21 01:47:56 2025]
rule porechop:
    input: resources/reads/CMC_BKN.fastq.gz
    output: results/CMC_BKN/trimmed.fastq.gz
    jobid: 32
    reason: Missing output files: results/CMC_BKN/trimmed.fastq.gz; Code has changed since last execution
    wildcards: sample=CMC_BKN
    resources: tmpdir=/tmp


[Tue Oct 21 01:47:56 2025]
rule porechop:
    input: resources/reads/HI12B.fastq.gz
    output: results/HI12B/trimmed.fastq.gz
    jobid: 64
    reason: Code has changed since last execution
    wildcards: sample=HI12B
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_
Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_

[Tue Oct 21 01:47:56 2025]
rule porechop:
    input: resources/reads/HI15B.fastq.gz
    output: results/HI15B/trimmed.fastq.gz
    jobid: 72
    reason: Code has changed since last execution
    wildcards: sample=HI15B
    resources: tmpdir=/tmp


[Tue Oct 21 01:47:57 2025]
Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_
rule porechop:
    input: resources/reads/HI03A.fastq.gz
    output: results/HI03A/trimmed.fastq.gz
    jobid: 44
    reason: Code has changed since last execution
    wildcards: sample=HI03A
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_

[Tue Oct 21 01:47:57 2025]
rule porechop:
    input: resources/reads/HI04A.fastq.gz
    output: results/HI04A/trimmed.fastq.gz
    jobid: 48
    reason: Code has changed since last execution
    wildcards: sample=HI04A
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_
[Tue Oct 21 01:49:05 2025]
Finished job 16.
3 of 134 steps (2%) done
Select jobs to execute...

[Tue Oct 21 01:49:05 2025]
rule nanoplot:
    input: resources/reads/HI02A.fastq.gz
    output: results/HI02A/qc/HI02A_Nanoplot
    log: results/HI02A/qc/HI02A_Nanoplot/nanoplot.log
    jobid: 6
    reason: Code has changed since last execution
    wildcards: sample=HI02A
    threads: 6
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/de891c6cc03ba77d6d59f6373b0f834e_
[Tue Oct 21 01:49:50 2025]
Finished job 14.
4 of 134 steps (3%) done
Select jobs to execute...

[Tue Oct 21 01:49:50 2025]
rule nanoplot:
    input: resources/reads/HI12B.fastq.gz
    output: results/HI12B/qc/HI12B_Nanoplot
    log: results/HI12B/qc/HI12B_Nanoplot/nanoplot.log
    jobid: 12
    reason: Code has changed since last execution
    wildcards: sample=HI12B
    threads: 6
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/de891c6cc03ba77d6d59f6373b0f834e_
[Tue Oct 21 01:52:09 2025]
Finished job 10.
5 of 134 steps (4%) done
Select jobs to execute...

[Tue Oct 21 01:52:09 2025]
rule nanoplot:
    input: resources/reads/CMC_BKN.fastq.gz
    output: results/CMC_BKN/qc/CMC_BKN_Nanoplot
    log: results/CMC_BKN/qc/CMC_BKN_Nanoplot/nanoplot.log
    jobid: 4
    reason: Code has changed since last execution
    wildcards: sample=CMC_BKN
    threads: 6
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/de891c6cc03ba77d6d59f6373b0f834e_
[Tue Oct 21 02:05:05 2025]
Finished job 6.
6 of 134 steps (4%) done
Select jobs to execute...

[Tue Oct 21 02:05:05 2025]
rule nanoplot:
    input: resources/reads/CMC_CLY.fastq.gz
    output: results/CMC_CLY/qc/CMC_CLY_Nanoplot
    log: results/CMC_CLY/qc/CMC_CLY_Nanoplot/nanoplot.log
    jobid: 1
    reason: Code has changed since last execution
    wildcards: sample=CMC_CLY
    threads: 6
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/de891c6cc03ba77d6d59f6373b0f834e_
[Tue Oct 21 02:21:29 2025]
Finished job 48.
7 of 134 steps (5%) done
Select jobs to execute...

[Tue Oct 21 02:21:30 2025]
rule porechop:
    input: resources/reads/CMC_CLY.fastq.gz
    output: results/CMC_CLY/trimmed.fastq.gz
    jobid: 20
    reason: Code has changed since last execution
    wildcards: sample=CMC_CLY
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/2ac72101414847c11936a83efa1608b6_
[Tue Oct 21 02:34:30 2025]
Finished job 4.
8 of 134 steps (6%) done
Select jobs to execute...

[Tue Oct 21 02:34:31 2025]
rule nanoplot:
    input: resources/reads/HI01A.fastq.gz
    output: results/HI01A/qc/HI01A_Nanoplot
    log: results/HI01A/qc/HI01A_Nanoplot/nanoplot.log
    jobid: 5
    reason: Code has changed since last execution
    wildcards: sample=HI01A
    threads: 6
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/de891c6cc03ba77d6d59f6373b0f834e_
[Tue Oct 21 02:42:50 2025]
Finished job 12.
9 of 134 steps (7%) done
Select jobs to execute...

[Tue Oct 21 02:42:51 2025]
rule nanoplot:
    input: resources/reads/CMC_MTM.fastq.gz
    output: results/CMC_MTM/qc/CMC_MTM_Nanoplot
    log: results/CMC_MTM/qc/CMC_MTM_Nanoplot/nanoplot.log
    jobid: 3
    reason: Code has changed since last execution
    wildcards: sample=CMC_MTM
    threads: 6
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/de891c6cc03ba77d6d59f6373b0f834e_
[Tue Oct 21 02:57:09 2025]
Finished job 52.
10 of 134 steps (7%) done
Select jobs to execute...

[Tue Oct 21 02:57:09 2025]
rule build_dag:
    output: results/workflow_dag.png
    jobid: 132
    reason: Missing output files: results/workflow_dag.png
    resources: tmpdir=/tmp

Activating conda environment: .snakemake/conda/69a93ab51e8a64b6b2f737e3e7392841_
[Tue Oct 21 02:57:13 2025]
Error in rule build_dag:
    jobid: 132
    output: results/workflow_dag.png
    conda-env: /data/armel/git/MetagenAMR-main/.snakemake/conda/69a93ab51e8a64b6b2f737e3e7392841_
    shell:
        
        echo "Génération du DAG du pipeline..."
        snakemake --dag | dot -Tpng > results/workflow_dag.png
        echo "DAG généré : results/workflow_dag.png"
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job build_dag since they might be corrupted:
results/workflow_dag.png
[Tue Oct 21 03:17:38 2025]
Finished job 44.
11 of 134 steps (8%) done
[Tue Oct 21 03:25:30 2025]
Finished job 40.
12 of 134 steps (9%) done
[Tue Oct 21 03:45:08 2025]
Finished job 5.
13 of 134 steps (10%) done
[Tue Oct 21 03:52:25 2025]
Finished job 1.
14 of 134 steps (10%) done
[Tue Oct 21 04:23:49 2025]
Finished job 3.
15 of 134 steps (11%) done
[Tue Oct 21 04:33:12 2025]
Finished job 56.
16 of 134 steps (12%) done
[Tue Oct 21 04:36:48 2025]
Finished job 68.
17 of 134 steps (13%) done
[Tue Oct 21 04:37:39 2025]
Finished job 32.
18 of 134 steps (13%) done
[Tue Oct 21 05:09:14 2025]
Finished job 76.
19 of 134 steps (14%) done
[Tue Oct 21 05:09:28 2025]
Finished job 24.
20 of 134 steps (15%) done
[Tue Oct 21 05:14:12 2025]
Finished job 64.
21 of 134 steps (16%) done
[Tue Oct 21 05:37:32 2025]
Finished job 60.
22 of 134 steps (16%) done
[Tue Oct 21 05:38:44 2025]
Finished job 72.
23 of 134 steps (17%) done
[Tue Oct 21 05:47:10 2025]
Finished job 36.
24 of 134 steps (18%) done
[Tue Oct 21 05:57:09 2025]
Finished job 28.
25 of 134 steps (19%) done
[Tue Oct 21 06:00:43 2025]
Finished job 20.
26 of 134 steps (19%) done
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2025-10-21T014409.966069.snakemake.log
